## Local Enumeration
- What are we looking for?
	- Hostname
	- OS Name 
	- Os Build & Service Pack
	- OS Architecture
	- Installed updates/hotfixes

## System Info
- `sysinfo` ( #tools/multi/msfconsole)

### Shell
- `hostname`
- `systeminfo`: In depth info with patches, network info etc
- `wmic qfe get Caption,Description,HotFixID,InstalledOn`: hotfix details
- `type C:\\Windows\\System32\\eula.txt`

## Users & Groups
- Current users & groups
- Additional user information
- Other users on the system
- Groups
- Built-in Admin group members

### #tools/multi/msfconsole 
- `getuid`: Get the current username
- `getprivs`: Current user's privileges
- `post/gather/enum_logged_on_users`

### Shell
- `whoami /priv`: Current user privileges
- `query user`: Current user login details
- `net users`: All users on this machine
- `net user <username | administrator | guest>`: Account details of the user
- `net localgroup`: Local groups on the machine
- `net localgroup <group_name>`:  Gives members of the mentioned group

## Network Information
- Network IP & adapters
- Internal n/w
- TCP/UDP services running and their ports
- Other hosts on the network
- Routing table
- Windows Firewall state

### Shell
- `ipconfig /all`: detailed IP related information
	- Check DHCP and lease details
- `route print`: route details
- `arp -a`: Details of other machines on the network
- `netstat -ano`: Ports open
- `netsh firewall show state`: Get the state of the firewall
- `netsh advfirewall firewall dump`
- `netsh advfirewall show allprofiles`

## Processes & Services
- Migrating to a more stable process

### #tools/multi/msfconsole 
- `ps`: list of processes running with user
	- Shows process information as per user's access level
- `pgrep <processname>`: get process ID of a process
- `migratge <pid>`: Migrate to a stable process
	- You can determine change in payload when you migrate with `sysinfo`

### Shell
- `net start`: Services running in the background
- `wmic service list brief`: Details of all the processes running in background
- `tasklist /SVC`: Processes running under processes
- `schtasks /query /fo/ LIST`: List of all the scheduled tasks (add `/v` for more details)

## Automating Windows Local Enumeration
- #tools/post/windows/jaws can be used for automating local enumeration on windows machines
- Copy #tools/post/windows/jaws to the target file `jaws-enum.ps1` and run it with the command:
	```
	powershell.exe -ExecutionPolicy Bypass -File .\jaws-enum.ps1 -OutputFilename jaws-result.txt
	```

## Direct Reverse Shell
